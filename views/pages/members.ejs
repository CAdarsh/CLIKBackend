<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,300;0,400;0,500;0,700;0,800;1,600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./styles.css" />
    <link rel="stylesheet" href="./dashboard.css" />
    <link rel="stylesheet" href="./members.css" />
    <title>Document</title>
  </head>
  <body>
    <%- include('../partials/header') %>

    <main>
      <div class="container">
        <h1 class="main-heading">MEMBERS</h1>
        <div class="dash-table">
          <div class="dash-first-row">
            <div class="dash-name">Name</div>
            <div class="dash-loc">Location</div>
            <div class="dash-loc">Active Since</div>
          </div>
          <div class="loader"></div>
          <div class="member-container"></div>
        </div>
      </div>
    </main>
    <%- include('../partials/footer') %>
    <script>
      let options = {
        method: "GET",
      };
      let dataContainer = document.querySelector(".member-container");
      fetch("/member/all")
        .then((res) => res.json())
        .then((data) => {
          document.querySelector(".loader").style.display = "none";
          data.map((member) => {
            dataContainer.innerHTML += ` <a href="/page/${member.slug}"> <div class="dash-row">
                <div class="dash-name">
                  <img src="./images/CLIK.png" alt="clik" class="dash-img" /> ${member.title}
                </div>
                <div class="dash-loc">${member.location}</div>
                <div class="dash-loc">2006</div>
              </div> </a>`;
            console.log(member);
          });
          console.log(dataContainer);
        });
    </script>
    <script src="./index.js"></script>
  </body>
</html>
